<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Portal - Conference</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/style.css">
</head>

<body>

    <!-- Auth Overlay -->
    <div id="auth-overlay" class="auth-overlay">
        <div class="glass-panel auth-box">
            <h2>Admin Login</h2>
            <p style="margin: 10px 0;">Restricted Access</p>
            <input type="password" id="admin-pass" placeholder="Enter Passphrase">
            <button class="btn primary" id="btn-login" style="width:100%; margin-top:10px;">Login</button>
            <p id="login-error" style="color:#ff6b6b; margin-top:10px; display:none;">Invalid Passphrase</p>
            <a href="index.html" style="color:white; display:block; margin-top:20px; font-size:0.8rem;">Go Back Home</a>
        </div>
    </div>

    <div class="container glass-panel" id="admin-content" style="filter: blur(10px); pointer-events:none;">
        <header>
            <h1>Admin Dashboard</h1>
            <nav class="nav-links">
                <a href="index.html">Back to Home</a>
                <a href="#" class="active">Uploads</a>
                <a href="admin-interests.html">Submissions</a>
                <a href="#" id="btn-logout">Logout</a>
            </nav>
        </header>

        <section class="admin-dashboard" style="display: flex; flex-direction: column; gap: 30px; margin-top: 20px;">
            <!-- Stats -->
            <div class="stats-grid" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;">
                <div class="glass-panel stat-card" style="text-align: center; padding: 25px;">
                    <h3 style="margin-bottom: 10px; opacity: 0.8; font-size: 0.9rem; text-transform: uppercase;">Total
                        Events</h3>
                    <div class="stat-number" id="stat-total"
                        style="font-size: 2.5rem; font-weight: 700; color: #4ade80;">0</div>
                </div>
                <div class="glass-panel stat-card" style="text-align: center; padding: 25px;">
                    <h3 style="margin-bottom: 10px; opacity: 0.8; font-size: 0.9rem; text-transform: uppercase;">Topics
                        Covered</h3>
                    <div class="stat-number" id="stat-topics"
                        style="font-size: 2.5rem; font-weight: 700; color: #3498db;">0</div>
                </div>
                <div class="glass-panel stat-card" style="text-align: center; padding: 25px;">
                    <h3 style="margin-bottom: 10px; opacity: 0.8; font-size: 0.9rem; text-transform: uppercase;">
                        Countries</h3>
                    <div class="stat-number" id="stat-countries"
                        style="font-size: 2.5rem; font-weight: 700; color: #f39c12;">0</div>
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                <!-- Left Column: Actions -->
                <div style="display: flex; flex-direction: column; gap: 30px;">
                    <!-- Upload Area -->
                    <div class="glass-panel" style="padding: 25px; height: fit-content;">
                        <h2 style="margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                            <span>üì¶</span> Ingest Conference Data
                        </h2>
                        <p style="margin-bottom:20px; opacity:0.7; font-size: 0.9rem; line-height: 1.5;">
                            Upload your <strong>.xlsx</strong> files to update the system.
                            New events will be merged into the existing database.
                        </p>

                        <div style="display:flex; flex-direction: column; gap:15px;">
                            <input type="file" id="file-upload" accept=".xlsx"
                                style="background: rgba(255,255,255,0.05); padding: 10px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.1); color: white;">
                            <button class="btn primary" id="btn-upload" style="width: 100%;">Upload & Process</button>
                            <div id="upload-spinner"
                                style="display:none; text-align: center; font-size: 0.9rem; color: #4ade80;">‚è≥
                                Processing database update...</div>
                        </div>

                        <div id="upload-status"
                            style="margin-top:20px; padding:12px; border-radius:8px; font-size: 0.85rem;"></div>
                    </div>

                    <!-- Re-Geocode Area -->
                    <div class="glass-panel" style="padding: 25px; height: fit-content;">
                        <h2 style="margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                            <span>üó∫Ô∏è</span> Fix Map Display
                        </h2>
                        <p style="margin-bottom:20px; opacity:0.7; font-size: 0.9rem; line-height: 1.5;">
                            If some events are missing from the map, use this tool to synchronize their coordinates.
                        </p>

                        <button class="btn" id="btn-re-geocode"
                            style="width: 100%; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2);">Re-Geocode
                            All Events</button>
                        <div id="geocode-spinner"
                            style="display:none; margin-top:15px; text-align: center; font-size: 0.85rem; color: #3498db;">
                            ‚è≥ Geocoding in progress... This may take a minute.</div>
                        <div id="geocode-status"
                            style="margin-top:20px; padding:12px; border-radius:8px; font-size: 0.85rem; max-height: 200px; overflow-y: auto;">
                        </div>
                    </div>
                </div>

                <!-- Right Column: Navigation to Interests -->
                <div class="glass-panel"
                    style="padding: 25px; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center;">
                    <h2 style="margin-bottom: 20px;">Looking for Interest Submissions?</h2>
                    <p style="margin-bottom: 30px; opacity: 0.8;">
                        View the full list of user interest submissions, including contact details, event fees, and
                        timestamps.
                    </p>
                    <a href="admin-interests.html" class="btn primary" style="font-size: 1.1rem; padding: 15px 30px;">
                        View Submissions Table ‚ûî
                    </a>
                </div>
            </div>
        </section>

        </section>
    </div>

    <script src="assets/admin.js"></script>
</body>

</html>