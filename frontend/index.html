<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Events Portal</title>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />

    <!-- MapLibre JS (Alternative for Globe if needed, but keeping Leaflet for now per previous revert) -->
    <!-- Styles -->
    <link rel="stylesheet" href="assets/style.css?v=3">

    <!-- Three.js for 3D Background -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
</head>

<body class="no-scroll">
    <!-- Canvas for 3D Background -->
    <canvas id="hero-canvas"></canvas>

    <!-- Section 1: Hero / Landing -->
    <section id="hero-section">
        <div class="hero-content glass-panel">
            <h1>CONFERENCE CALENDAR</h1>
            <h2 class="year-accent">2026</h2>
            <p>Discover the future of technology and innovation across the globe.</p>
            <button class="btn primary btn-large" onclick="scrollToPortal()">Explore Now</button>
        </div>
    </section>

    <!-- Section 2: Portal -->
    <section id="portal-section">
        <div class="container glass-panel">
            <header>
                <div class="header-actions">
                    <button class="btn primary" id="btn-view-map" data-i18n="btn-view-map">Map View</button>
                    <button class="btn" id="btn-view-list" data-i18n="btn-view-list">List View</button>
                    <button class="btn" id="btn-upcoming" data-i18n="btn-upcoming">Upcoming Events</button>
                </div>
                <nav class="nav-links">
                    <a href="#" class="active" id="nav-home" data-i18n="nav-home">Home</a>
                    <a href="#" id="nav-my-events"><span data-i18n="nav-my-events">My Events</span> (<span
                            id="my-events-count">0</span>)</a>
                    <a href="admin.html" data-i18n="nav-admin">Admin</a>
                    <select id="lang-toggle" style="width: auto; margin-left:10px; background:rgba(0,0,0,0.2);">
                        <option value="en">ENG</option>
                        <option value="fr">FR</option>
                        <option value="es">ES</option>
                        <option value="de">DE</option>
                        <option value="it">IT</option>
                    </select>
                </nav>
            </header>

            <div class="main-grid">
                <!-- Sidebar: Filters -->
                <aside class="sidebar glass-panel">
                    <h3 data-i18n="sidebar-title">Find Events</h3>

                    <div class="filter-group" style="position:relative;">
                        <label data-i18n="lbl-topic">Topic</label>
                        <input type="text" id="filter-topic" data-i18n-ph="ph-topic" placeholder="e.g. AI, Healthcare">
                        <div id="suggestions-topic" class="suggestions-list"></div>
                    </div>

                    <div class="filter-group" style="position:relative;">
                        <label data-i18n="lbl-city">City</label>
                        <input type="text" id="filter-city" data-i18n-ph="ph-city" placeholder="e.g. London">
                        <div id="suggestions-city" class="suggestions-list"></div>
                    </div>

                    <div class="filter-group" style="position:relative;">
                        <label data-i18n="lbl-country">Country</label>
                        <input type="text" id="filter-country" data-i18n-ph="ph-country" placeholder="e.g. UK">
                        <div id="suggestions-country" class="suggestions-list"></div>
                    </div>

                    <div class="filter-group">
                        <label data-i18n="lbl-month">Month</label>
                        <input type="month" id="filter-date">
                    </div>

                    <button class="btn primary" id="btn-reset" data-i18n="btn-reset">Reset Filters</button>
                </aside>

                <!-- Main Content: Map & List -->
                <main class="content-area">
                    <!-- Map Container -->
                    <div id="map-container" class="glass-panel" style="padding:10px;">
                        <div id="map"></div>
                    </div>

                    <!-- List Container -->
                    <div id="list-container" class="events-list" style="display:none;">
                        <!-- Events will be injected here -->
                    </div>
                </main>
            </div>
        </div>
    </section>

    <!-- Interest Modal -->
    <div id="interest-modal" class="modal-overlay" style="display:none;">
        <div class="modal-content glass-panel"
            style="max-width: 500px; width: 90%; margin: 10% auto; padding: 25px; position: relative;">
            <button id="close-modal"
                style="position:absolute; top:10px; right:15px; background:none; border:none; color:white; font-size:1.5em; cursor:pointer;">&times;</button>
            <h2 style="margin-top:0;">Show Interest</h2>
            <p id="modal-event-name" style="color:#3498db; margin-bottom:20px; font-weight:bold;"></p>

            <form id="interest-form">
                <input type="hidden" id="modal-event-id">

                <div class="form-group" style="margin-bottom:15px;">
                    <label style="display:block; margin-bottom:5px;">First Name *</label>
                    <input type="text" id="int-fname" required
                        style="width:100%; padding:8px; border-radius:4px; border:1px solid #ddd;">
                </div>

                <div class="form-group" style="margin-bottom:15px;">
                    <label style="display:block; margin-bottom:5px;">Last Name *</label>
                    <input type="text" id="int-lname" required
                        style="width:100%; padding:8px; border-radius:4px; border:1px solid #ddd;">
                </div>

                <div class="form-group" style="margin-bottom:15px;">
                    <label style="display:block; margin-bottom:5px;">BH Username *</label>
                    <input type="text" id="int-username" required
                        style="width:100%; padding:8px; border-radius:4px; border:1px solid #ddd;">
                </div>

                <div class="form-group" style="margin-bottom:15px;">
                    <label style="display:block; margin-bottom:5px;">BH Email ID *</label>
                    <input type="email" id="int-email" required
                        style="width:100%; padding:8px; border-radius:4px; border:1px solid #ddd;">
                </div>

                <div class="form-group" style="margin-bottom:15px;">
                    <label style="display:block; margin-bottom:5px;">Role *</label>
                    <input type="text" id="int-role" required
                        style="width:100%; padding:8px; border-radius:4px; border:1px solid #ddd;">
                </div>

                <div style="display:flex; gap:10px;">
                    <div class="form-group" style="margin-bottom:15px; flex:1;">
                        <label style="display:block; margin-bottom:5px;">City *</label>
                        <input type="text" id="int-city" required
                            style="width:100%; padding:8px; border-radius:4px; border:1px solid #ddd;">
                    </div>
                    <div class="form-group" style="margin-bottom:15px; flex:1;">
                        <label style="display:block; margin-bottom:5px;">Country *</label>
                        <input type="text" id="int-country" required
                            style="width:100%; padding:8px; border-radius:4px; border:1px solid #ddd;">
                    </div>
                </div>

                <div class="form-group" style="margin-bottom:10px;">
                    <label style="display:flex; align-items:center; gap:10px; cursor:pointer;">
                        <input type="checkbox" id="int-confirm" required>
                        <span style="font-size:0.9em;">I confirm my willingness to attend this event.</span>
                    </label>
                </div>

                <div class="form-group" style="margin-bottom:20px;">
                    <label style="display:flex; align-items:center; gap:10px; cursor:pointer;">
                        <input type="checkbox" id="int-consent" required>
                        <span style="font-size:0.9em;">I consent for BH team to contact me via email.</span>
                    </label>
                </div>

                <button type="submit" class="btn primary" style="width:100%; padding:10px;">Submit Interest</button>
            </form>
        </div>
    </div>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <!-- App Logic -->
    <script src="assets/locales.js"></script>
    <script src="assets/background.js"></script>
    <script src="assets/app.js"></script>

    <!-- Scroll to Top Button -->
    <button id="btn-scroll-top" title="Go to top">â†‘</button>

    <script>
        function scrollToPortal() {
            // Unlock scroll
            document.body.classList.remove('no-scroll');
            // Smoothly scroll to portal
            setTimeout(() => {
                document.getElementById('portal-section').scrollIntoView({ behavior: 'smooth' });
            }, 50);
        }
    </script>
</body>

</html>